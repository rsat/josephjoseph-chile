---
---

<header class="header">
	<div class="container">
		<a href="/" class="logo">
			<img src="/logo.svg" alt="Joseph Joseph" />
		</a>
		<button class="menu-toggle" aria-label="Toggle menu">
			<span></span>
			<span></span>
			<span></span>
		</button>
		<div class="menu-overlay"></div>
		<nav class="nav">
			<a href="/productos">Productos</a>
			<a href="/#donde-comprar">DÃ³nde Comprar</a>
			<a href="/#sobre-nosotros">Sobre Nosotros</a>
		</nav>
	</div>
</header>

<script is:inline>
	document.addEventListener('DOMContentLoaded', () => {
		const menuToggle = document.querySelector('.menu-toggle');
		const nav = document.querySelector('.nav');
		const overlay = document.querySelector('.menu-overlay');
		const body = document.body;

		if (!menuToggle || !nav || !overlay) return;

		function closeMenu() {
			menuToggle.classList.remove('active');
			nav.classList.remove('active');
			overlay.classList.remove('active');
			body.classList.remove('menu-open');
		}

		function openMenu() {
			menuToggle.classList.add('active');
			nav.classList.add('active');
			overlay.classList.add('active');
			body.classList.add('menu-open');
		}

		// Toggle menu
		menuToggle.addEventListener('click', (e) => {
			e.preventDefault();
			e.stopPropagation();

			const isOpen = nav.classList.contains('active');
			if (isOpen) {
				closeMenu();
			} else {
				openMenu();
			}
		});

		// Close menu when clicking on overlay
		overlay.addEventListener('click', () => {
			closeMenu();
		});

		// Close menu when clicking on a link
		const navLinks = nav.querySelectorAll('a');
		navLinks.forEach(link => {
			link.addEventListener('click', () => {
				closeMenu();
			});
		});
	});
</script>

<style>
	.header {
		background: white;
		border-bottom: 1px solid var(--color-gray);
		padding: 1.5rem 0;
	}

	.header .container {
		display: flex;
		justify-content: space-between;
		align-items: center;
	}

	.logo {
		display: flex;
		align-items: center;
	}

	.logo img {
		height: 36px;
		width: auto;
		display: block;
	}

	.nav {
		display: flex;
		gap: 2rem;
	}

	.nav a {
		color: var(--color-text);
		font-weight: 400;
		transition: color 0.3s ease;
	}

	.nav a:hover {
		color: var(--color-dark);
	}

	.menu-overlay {
		display: none;
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0, 0, 0, 0.5);
		z-index: 1001;
		opacity: 0;
		transition: opacity 0.3s ease;
		pointer-events: none;
	}

	.menu-overlay.active {
		opacity: 1;
		pointer-events: auto;
	}

	.menu-toggle {
		display: none;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		gap: 0;
		background: none;
		border: none;
		cursor: pointer;
		padding: 8px;
		width: 40px;
		height: 40px;
		z-index: 1004;
		position: relative;
	}

	.menu-toggle span {
		display: block;
		width: 24px;
		height: 2px;
		background: var(--color-dark);
		transition: all 0.3s ease;
		border-radius: 2px;
		position: absolute;
	}

	.menu-toggle span:nth-child(1) {
		top: 12px;
	}

	.menu-toggle span:nth-child(2) {
		top: 19px;
	}

	.menu-toggle span:nth-child(3) {
		top: 26px;
	}

	.menu-toggle.active span:nth-child(1) {
		top: 19px;
		transform: rotate(45deg);
	}

	.menu-toggle.active span:nth-child(2) {
		opacity: 0;
	}

	.menu-toggle.active span:nth-child(3) {
		top: 19px;
		transform: rotate(-45deg);
	}

	@media (max-width: 768px) {
		.header {
			padding: 1rem 0;
		}

		.logo img {
			height: 28px;
		}

		.menu-overlay {
			display: block;
		}

		.menu-toggle {
			display: flex;
		}

		.nav {
			position: fixed;
			top: 0;
			right: -100%;
			width: 280px;
			height: 100vh;
			background: white;
			flex-direction: column;
			gap: 0;
			padding: 5rem 2rem 2rem;
			box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);
			transition: right 0.3s ease;
			z-index: 1003;
			align-items: stretch;
		}

		.nav.active {
			right: 0;
		}

		.nav a {
			padding: 1.25rem 1rem;
			font-size: 1.125rem;
			font-weight: 500;
			border-bottom: 1px solid var(--color-gray);
			transition: all 0.2s ease;
			text-align: left;
		}

		.nav a:first-child {
			border-top: 1px solid var(--color-gray);
		}

		.nav a:hover {
			background: var(--color-stone);
			padding-left: 1.5rem;
			color: var(--color-dark);
		}
	}

	@media (max-width: 480px) {
		.nav {
			width: 85%;
			right: -100%;
		}

		.nav a {
			font-size: 1rem;
			padding: 1rem 0.875rem;
		}

		.nav a:hover {
			padding-left: 1.25rem;
		}
	}

	:global(body.menu-open) {
		overflow: hidden;
	}
</style>
